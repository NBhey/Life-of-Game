(()=>{"use strict";var e={106:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([e.id,"body {\n    font-family: sans-serif;\n    text-align: center;\n  }\n.gameField {\n    margin: 0 auto;\n}  \n  table {\n    border-collapse: collapse;\n    margin: 30px;\n  }\n  \n  .cell {\n    border: 1px solid lightblue;\n    color: lightgray;\n    width: 20px;\n    height: 20px;\n    text-align: center;\n  }\n  \n  .cell--alive {\n    background-color: darkcyan;\n  }\n  ",""]);const l=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var u=this[l][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&a[s[0]]||(void 0!==o&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=o),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),i&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=i):s[4]="".concat(i)),t.push(s))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],l=0;l<e.length;l++){var u=e[l],c=r.base?u[0]+r.base:u[0],s=o[c]||0,d="".concat(c," ").concat(s);o[c]=s+1;var f=n(d),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=i(p,r);r.byIndex=l,t.splice(l,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var l=n(o[a]);t[l].references--}for(var u=r(e,i),c=0;c<o.length;c++){var s=n(o[c]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}o=u}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var l=o((function e(t,n){var r,i,o,l=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=function(e){l.gameView.updateGameState({isRunning:e}),l.isGameRun=e,e&&l.gameField.nextGeneration(),l.gameView.updateGameField(l.gameField.getState())},(i=a(i="onGameStateChange"))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,this.gameField=t,this.gameView=n,this.stepDurationMs=u;var c=t.getState();n.updateGameField(c),n.updateGameState({isRunning:!1,width:c[0].length,height:c.length}),n.onCellClick((function(e,r){t.toggleCellState(e,r),n.updateGameField(t.getState())})),n.onFieldSizeChange((function(e,r){t.setSize(e,r);var i=t.getState();n.updateGameField(i),n.updateGameState({width:i[0].length,height:i.length})})),n.onGameStateChange(this.onGameStateChange),setInterval((function(){l.isGameRun&&(l.gameField.nextGeneration(),l.gameView.updateGameField(t.getState()))}),u)}));function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}function d(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var f=new WeakSet,p=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}(this,f),this.height=t,this.width=n;for(var r=[],i=0;i<this.height;i+=1){r.push([]);for(var o=0;o<this.width;o+=1)r[i].push(0)}this.currentField=r},(t=[{key:"getState",value:function(){return this.currentField}},{key:"toggleCellState",value:function(e,t){this.currentField[t][e]=Number(!this.currentField[t][e])}},{key:"nextGeneration",value:function(){for(var e=[],t=0;t<this.currentField.length;t+=1){e.push([]);for(var n=0;n<this.currentField[t].length;n+=1){var r=d(f,this,h).call(this,t,n);1!=this.currentField[t][n]||2!=r&&3!=r?0==this.currentField[t][n]&&3==r?e[t].push(1):e[t].push(0):e[t].push(1)}}this.currentField=e}},{key:"setSize",value:function(e,t){for(var n=[],r=0;r<t;r+=1){n.push([]);for(var i=0;i<e;i+=1)this.currentField[r]&&this.currentField[r][i]?n[r].push(this.currentField[r][i]):n[r].push(0)}this.currentField=n}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function h(e,t){for(var n=0,r=e-1;r<=e+1;r+=1)for(var i=t-1;i<=t+1;i+=1)r===e&&i===t||this.currentField[r]&&this.currentField[r][i]&&(n+=1);return n}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}var g=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=document.createElement("table");n.classList.add("gameField");var r=document.createElement("div");r.classList.add("gameControls");var i=document.createElement("input");i.type="number",i.classList.add("field-size","field-size--width");var o=document.createElement("input");o.type="number",o.classList.add("field-size","field-size--height");var a=document.createElement("button");a.classList.add("run-button","run-button--stopped"),a.innerHTML="Play",r.append(a,i,o),t.append(n,r),this.element=t},(t=[{key:"updateGameField",value:function(e){for(var t=this.element.querySelector(".gameField");t.rows.length>0;)t.deleteRow(-1);e.map((function(n,r){var i=t.insertRow(-1);return n.map((function(t,n){var o=i.insertCell(-1);return o.classList.add("cell"),o.classList.add(0===e[r][n]?"cell--dead":"cell--alive"),null})),null}))}},{key:"updateGameState",value:function(e){if(void 0!==e.isRunning){this.gameRunState=e.isRunning;var t=this.element.querySelector(".run-button");t.classList.remove(t.classList[1]),e.isRunning?(t.classList.add("run-button--runned"),t.innerHTML="Stop"):(t.classList.add("run-button--stopped"),t.innerHTML="Play")}void 0!==e.width&&void 0!==e.height&&(this.element.querySelector(".field-size--width").value=String(e.width),this.element.querySelector(".field-size--height").value=String(e.height))}},{key:"onCellClick",value:function(e){this.element.querySelector(".gameField").addEventListener("click",(function(t){var n=t.target.cellIndex,r=t.target.closest("tr").rowIndex;e(n,r)}),!0)}},{key:"onGameStateChange",value:function(e){this.element.querySelector(".run-button").addEventListener("click",(function(t){var n=t.target.innerHTML;e("Stop"!==n)}))}},{key:"onFieldSizeChange",value:function(e){var t=this.element.querySelector(".field-size--width"),n=this.element.querySelector(".field-size--height");function r(t){var n,r;"field-size--width"===t.target.classList[1]?(n=Number(t.target.value),r=Number(t.target.closest(".gameControls").querySelector(".field-size--height").value)):(r=Number(t.target.value),n=Number(t.target.closest(".gameControls").querySelector(".field-size--width").value)),e(n,r)}t.addEventListener("change",r),n.addEventListener("change",r)}}])&&v(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),b=n(72),S=n.n(b),w=n(825),F=n.n(w),C=n(659),x=n.n(C),E=n(56),L=n.n(E),T=n(540),k=n.n(T),P=n(113),j=n.n(P),G=n(106),z={};z.styleTagTransform=j(),z.setAttributes=L(),z.insert=x().bind(null,"head"),z.domAPI=F(),z.insertStyleElement=k(),S()(G.A,z),G.A&&G.A.locals&&G.A.locals;var M=new g(document.getElementById("app"));new l(new p(10,10),M,1e3)})();